<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestionnaire d'Unités - NOUVELLE VERSION</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body {
        background: #0f172a;
        color: white;
        font-family: Arial, sans-serif;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 20px;
      }
      .container {
        max-width: 600px;
      }
      h1 {
        color: #10b981;
        font-size: 2.5rem;
        margin-bottom: 20px;
      }
      .version {
        color: #fbbf24;
        font-size: 1.2rem;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>✅ APPLICATION REACT PRÊTE</h1>
      <div class="version">Version: 25 - Cache busting</div>
      <p>L'application React va charger dans quelques secondes...</p>
      <div id="root"></div>
    </div>
    
    <!-- JS avec paramètre anti-cache -->
    <script>
      const version = Date.now();
      const script = document.createElement('script');
      script.type = 'module';
      script.src = `/src/index.tsx?v=${version}`;
      document.body.appendChild(script);
      
      // Fallback après 3 secondes
      setTimeout(() => {
        if (!window.ReactLoaded) {
          document.getElementById('root').innerHTML = `
            <div style="margin-top: 30px; padding: 20px; background: rgba(255,0,0,0.1); border-radius: 10px;">
              <p>⚠️ React ne se charge pas</p>
              <button onclick="location.reload(true)" style="margin-top: 10px; padding: 10px 20px; background: #3b82f6; border: none; color: white; border-radius: 5px; cursor: pointer;">
                Recharger la page
              </button>
            </div>
          `;
        }
      }, 3000);
    </script>
  </body>
</html>
